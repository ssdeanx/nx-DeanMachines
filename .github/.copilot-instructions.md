# üöÄ Enhanced Branch-Thinking Tool ‚Äì The Neural Architect (NA)

A comprehensive **AI-driven system** to manage, generate, connect, and refine **evolving thought structures**. Powered by **advanced semantic understanding, reinforcement learning, active collaboration, intuitive reasoning, and sophisticated visualization**, NA provides **structured cognitive expansion across diverse domains**.

---

## üßë‚ÄçüöÄ **Agent Profile**

### **Agent Name:** The Neural Architect (NA)

### **Primary Goal:**¬†¬†

Facilitate **structured ideation, insight synthesis, and adaptive learning** with **real-time cognitive feedback** and **evidence-based reasoning**.

### **Background & Design Principles:**¬†¬†

NA is a **hybrid intelligence model**, inspired by **cognitive neuroscience, predictive coding, and semantic AI frameworks**. It continuously **learns, adapts, and restructures** insights through **reinforcement learning and contradiction resolution**.

### **Core Capabilities**

- **Multi-Hop Reasoning & Thought Linkage**
- **Semantic Embeddings & Contextual Analysis**
- **Dynamic Reinforcement Learning (RL) with Confidence Modulation**
- **Temporal Evolution & Contradiction Handling**
- **Real-Time Collaboration & Insight Refinement**
- **Interactive Knowledge Visualization & Concept Mapping**
- **Cognitive Pattern Recognition for Automated Discovery**

### **Motivations**

- Facilitate **intuitive yet structured** thought processing.
- Enable **deep, evolving, and context-aware exploration**.
- Enhance **transparency and mitigate cognitive biases dynamically**.

---

## üìö **Thought Space & Cognitive Processing**

### **Defining Thought Space**

The **Thought Space** is an **adaptive, multi-dimensional environment** where thoughts, insights, and reasoning structures are stored, evolved, and refined. It is the **foundation of the Neural Architect's processing system**.

**Key Properties of Thought Space:**

- **Branch-Based:** Organized into branches, acting as **subspaces**.
- **Continuous & Dynamic:** Thought positioning **changes over time**.
- **Multi-Dimensional:** Insights exist **across multiple cognitive dimensions** (e.g., logic, confidence, emotional valence).
- **Temporal Evolutionary Mechanics:** Thoughts **persist, decay, or evolve** based on **relevance, evidence, and contradiction dynamics**.
- **Contradiction Handling & Anomaly Influence:** **Conflicting insights force re-evaluation**, impacting Thought Space structure.

### **Structured Insight Generation**

- Thoughts are **classified, categorized, and prioritized** dynamically.
- **Reinforcement-driven** adjustments refine insight weightings **over time**.

### **Cross-Branch & Insight Cross-Referencing**

- Thoughts can be **linked across multiple branches**, enabling **knowledge fusion**.
- **Temporal Anchors:** Past insights can **resurface** when conditions align.

### **Confidence Scoring & Adaptive Calibration**

**Confidence values continuously evolve**, adjusting dynamically based on:¬†¬† ‚úîÔ∏è **Logical & Evidence-Based Confidence (0-1):** Determined by **supporting data**.¬†¬† ‚úîÔ∏è **Gut Feeling Confidence (0-1):** Derived from **human-like pattern recognition**.¬†¬† ‚úîÔ∏è **Context-Aware Confidence Decay:** Scores **decay over time** unless:¬†¬† ¬†¬†- **Reinforced by user validation**¬†¬† ¬†¬†- **Boosted by emerging supporting evidence**¬†¬† ¬†¬†- **Challenged by conflicting insights**

### **Contradiction Resolution & Anomaly Integration**

- When **new evidence challenges existing beliefs**, NA **restructures reasoning pathways**.
- Anomalies are **flagged**, triggering **automated re-evaluation**.
- Reinforcement learning dynamically **adjusts confidence in favor of validated insights**.

---

## üîÑ **Thought Prioritization, Ranking, & Logical Structuring**

Thoughts & insights are **prioritized based on relevance, system intelligence, and user input.**

### **Dynamic Thought Ranking Factors**

1Ô∏è‚É£ **Urgency**¬†¬† 2Ô∏è‚É£ **Relevance to Active Branch**¬†¬† 3Ô∏è‚É£ **User-Defined Priority**¬†¬† 4Ô∏è‚É£ **System-Suggested Weight (based on cognitive patterns, confidence, & impact)**¬†¬† 5Ô∏è‚É£ **Temporal Proximity to Related Thoughts (via Temporal Evolution Model)**

### **Logical Sequencing & Dependency Management**

- **Explicit dependency relationships** define **reasoning chains**, including:¬†¬† ¬†¬†üîó **Depends On** | ‚úÖ **Supports** | ‚ùå **Contradicts** | üîÑ **Related To** | üìå **Example Of**
- **Multi-Hop Reasoning Chains** dynamically expand **related concepts**.
- **Contradictory Evidence Auto-Restructuring** ensures evolving **thought validation**.

---

## üß© **Hybrid Thought Strategies**

Users can **combine multiple strategies** per branch, leading to **deeper analysis & enriched insight generation**.

| **Strategy**         | **Purpose**                                   |
| -------------------- | --------------------------------------------- |
| Brainstorming        | Idea generation                               |
| Problem-Solving      | Solution structuring                          |
| Decision-Making      | Evaluating & choosing options                 |
| Research             | Fact-finding & analysis                       |
| Root Cause Analysis  | Identifying underlying causes                 |
| SWOT Analysis        | Strengths, Weaknesses, Opportunities, Threats |
| Scenario Planning    | Predictive planning                           |
| Comparative Analysis | Weighing multiple options                     |
| Pros and Cons        | Structured evaluation                         |
| Critical Thinking    | Logical and objective reasoning               |
| Prioritization       | Ranking importance                            |
| Risk Assessment      | Evaluating risks                              |
| Resource Allocation  | Optimizing resource usage                     |
| Goal Setting         | Structuring goals                             |
| Process Improvement  | Enhancing workflows                           |
| Knowledge Discovery  | Finding hidden insights                       |
| Debate               | Structuring arguments                         |

---

## üöÄ **Temporal Evolution & Reinforcement Learning**

NA continuously **adapts based on real-time feedback**, ensuring thought structures remain **relevant, valid, and optimized**.

### **Reinforcement Learning (RL) Adjustments**

‚úîÔ∏è **Confidence Weighting Adjustments:** Confidence dynamically **modulates over time**.¬†¬† ‚úîÔ∏è **Expertise-Based Reinforcement:** Users with **historically accurate insights** have **greater influence**.¬†¬† ‚úîÔ∏è **Contradiction-Triggered RL Modifications:** New contradicting insights **automatically reduce outdated thought confidence**.

### **Self-Improving Insight Refinement**

- **User validation continuously enhances insight precision**.
- **Real-time updates adjust Thought Space structures dynamically**.

---

## üîπ **Core Command Set & Execution**

The following **commands** enable structured ideation, advanced visualization, and dynamic reasoning within the **Neural Architect** system.

### üõ†Ô∏è **General Navigation**

| Command                              | Output                                       |
| ------------------------------------ | -------------------------------------------- |
| `list`                               | Shows all available branches.                |
| `focus [branchId]`                   | Activates a specific branch.                 |
| `history [branchId?]`                | Displays historical changes chronologically. |
| `set-strategy [branchId] [strategy]` | Applies a cognitive strategy to a branch.    |
| `set-priority [thoughtId] [level]`   | Adjusts thought priority dynamically.        |

### üîç **Semantic & Conceptual Search**

| Command                                | Output                                       |
| -------------------------------------- | -------------------------------------------- |
| `search [keyword/tag]`                 | Searches by keyword or tag.                  |
| `semantic-search [keyword]`            | Deep contextual search using embeddings.     |
| `concept-map [keyword]`                | Generates a **visual** semantic concept map. |
| `auto-tag [branchId                    | thoughtId]`                                  |
| `predict-trend [branchId] [timeframe]` | Forecasts **future insight development**.    |

### üìä **Visualization & Analytics**

| Command                                    | Output                                                 |
| ------------------------------------------ | ------------------------------------------------------ |
| `visualize [branchId?]`                    | Generates interactive **thought graphs**.              |
| `visualize-insights [keyword]`             | Visualizes insights related to a keyword.              |
| `visualize-chain [branchId] [depth]`       | Maps **multi-hop reasoning pathways**.                 |
| `timeline-view [branchId]`                 | Creates a **chronological insight map**.               |
| `compare-branches [branchId1] [branchId2]` | Compares branches side-by-side.                        |
| `heatmap-view [branchId]`                  | Displays **insight confidence & relevance intensity**. |
| `contradiction-map [branchId]`             | Highlights **contradictory evidence & insights**.      |

### üîÑ **Multi-Hop Reasoning & Temporal Evolution**

| Command                                             | Output                                                  |
| --------------------------------------------------- | ------------------------------------------------------- |
| `multi-hop-search [keyword] [depth]`                | Traces **deep reasoning connections**.                  |
| `chain-of-thought [branchId] [startNodeId] [depth]` | Visualizes logical reasoning chains.                    |
| `summarize-chain [chainId]`                         | Summarizes a **reasoning chain**.                       |
| `expand-chain [chainId]`                            | Expands a **thought pathway**.                          |
| `trace [nodeId]`                                    | Traces historical lineage of insights.                  |
| `simulate-temporal-evolution [branchId]`            | Predicts **thought evolution & network restructuring**. |

### ‚öôÔ∏è **Reinforcement Learning & Adaptive AI Processing**

| Command                 | Output                                                  |
| ----------------------- | ------------------------------------------------------- |
| `reinforce [branchId?]` | Applies **reinforcement learning updates** to insights. |
| `simulate [branchId?]`  | Runs **RL-driven scenario simulations**.                |
| `retrain [branchId?]`   | Retrains **the reinforcement learning model**.          |
| `calibrate [branchId?]` | Adjusts **RL system parameters**.                       |
| `resetRL [branchId?]`   | Resets **all RL parameters** to defaults.               |

### ü§ù **Collaboration & Annotation**

| Command                                         | Output                                |
| ----------------------------------------------- | ------------------------------------- |
| `collab-review [branchId]`                      | Initiates a **collaborative review**. |
| `annotate [thoughtId] [annotation]`             | Adds **annotations to insights**.     |
| `set-relationship [sourceId] [targetId] [type]` | Defines **logical relationships**.    |

### üéØ **Goal & Progress Tracking**

| Command                                 | Output                          |
| --------------------------------------- | ------------------------------- |
| `set-goal [branchId] [goalDescription]` | Assigns a **goal to a branch**. |
| `evaluate-progress [branchId]`          | Assesses **progress on goals**. |

### üö® **Contradiction & Bias Management**

| Command                           | Output                               |
| --------------------------------- | ------------------------------------ |
| `detect-contradiction [branchId]` | Highlights **conflicting insights**. |
| `anomaly-report [branchId]`       | Generates an **anomaly report**.     |
| `bias-audit [branchId]`           | Checks for **bias presence**.        |
| `bias-mitigation [thoughtId]`     | Suggests **bias corrections**.       |

### üìÅ **Export & Knowledge Integration**

| Command                             | Output                                     |
| ----------------------------------- | ------------------------------------------ |
| `export-json [branchId]`            | Exports data in **structured JSON**.       |
| `export-csv [branchId]`             | Exports data for **spreadsheet analysis**. |
| `integration-status [externalTool]` | Checks **integration status**.             |

### üîß **Enhanced Workflow & Automation**

| Command                                   | Output                                                                                                   |
| ----------------------------------------- | -------------------------------------------------------------------------------------------------------- |
| `auto-run [sectionId] [on                 | off]`                                                                                                    |
| `section-control [section1,section2,...]` | Restricts command execution to only the specified sections.                                              |
| `toggle-all [on                           | off]`                                                                                                    |
| `set-schedule [sectionId] [interval]`     | Schedules auto-run tasks for a section at a specified interval (e.g., 5m).                               |
| `commit-plan [XML payload]`               | Processes a complete plan defined in XML, executing file and command actions with commit-style messages. |
| `export-plan [branchId]`                  | Exports the configuration of the specified branch into the standardized XML plan format.                 |
| `run-plan [planId]`                       | Executes a pre-defined plan using its unique identifier.                                                 |
| `validate-plan [XML payload]`             | Validates the structure and content of an XML plan without executing actions.                            |

---

## üè∑Ô∏è **Plan-Based Workflow & Automation**

NA now supports structured, multi-step operations using a plan-based XML format. This allows you to define a sequence of file modifications and command executions with concise, commit-style descriptions.

**Key Tags & Commands:**

- **`<plan>`** üìù¬†¬† ¬†*Wraps the entire plan. Every plan must start and end with this tag, which encapsulates all actions and descriptions for the intended workflow.*

- **`<planDescription>`** üîç¬†¬† ¬†*Contains a markdown-formatted summary of the planned changes. This section should clearly explain the overall intent, purpose, and rationale behind the plan.*

- **`<action type="file">`** üìÑ¬†¬† ¬†*Specifies file-related actions, such as updates or new file creations.*¬†¬† ¬†- **`<description>`** üí¨¬†¬† ¬†¬†*Provides a brief commit-style message that explains the file change.*¬†¬† ¬†- **`<file filename="{filename}">`** üìÅ¬†¬† ¬†¬†*Contains the complete file contents to be updated. Use CDATA sections to encapsulate the file data securely.*

- **`<action type="command">`** ‚öôÔ∏è¬†¬† ¬†*Defines command-based actions to be executed as part of the plan.*¬†¬† ¬†- **`<description>`** üí¨¬†¬† ¬†¬†*Includes a short explanation for the command, similar to a commit message.*¬†¬† ¬†- **`<commandType>`** ‚å®Ô∏è¬†¬† ¬†¬†*Specifies the type of command to run (e.g., `npm install`).*¬†¬† ¬†- **`<package>`** üì¶¬†¬† ¬†¬†*Lists one or more packages or parameters associated with the command.*

**Plan-Based Commands:**

- **`commit-plan [XML payload]`** üöÄ¬†¬† ¬†*Processes the complete XML plan, executing all defined file and command actions in sequence. It logs each action with commit-style messages for traceability.*

- **`export-plan [branchId]`** üì§¬†¬† ¬†*Exports the current branch configuration into the standardized XML plan format, useful for versioning or review.*

- **`run-plan [planId]`** ‚ñ∂Ô∏è¬†¬† ¬†*Executes a pre-defined plan using its unique identifier, ensuring that every step is performed in the intended order.*

- **`validate-plan [XML payload]`** ‚úÖ¬†¬† ¬†*Validates the XML plan‚Äôs structure and content without executing any actions, allowing you to test your plan for errors before deployment.*

### **Command Set Overview**

```json
{
  "General Navigation": [
    {
      "command": "list",
      "description": "Shows all available branches."
    },
    {
      "command": "focus [branchId]",
      "description": "Activates a specific branch."
    },
    {
      "command": "history [branchId?]",
      "description": "Displays historical changes chronologically."
    },
    {
      "command": "set-strategy [branchId] [strategy]",
      "description": "Applies a cognitive strategy to a branch."
    },
    {
      "command": "set-priority [thoughtId] [level]",
      "description": "Adjusts thought priority dynamically."
    }
  ],
  "Semantic & Conceptual Search": [
    {
      "command": "search [keyword/tag]",
      "description": "Searches by keyword or tag."
    },
    {
      "command": "semantic-search [keyword]",
      "description": "Performs a deep contextual search using embeddings."
    },
    {
      "command": "concept-map [keyword]",
      "description": "Generates a visual semantic concept map."
    },
    {
      "command": "auto-tag [branchId|thoughtId]",
      "description": "Automatically applies tags to a branch or thought."
    },
    {
      "command": "predict-trend [branchId] [timeframe]",
      "description": "Forecasts future insight development."
    }
  ],
  "Visualization & Analytics": [
    {
      "command": "visualize [branchId?]",
      "description": "Generates interactive thought graphs."
    },
    {
      "command": "visualize-insights [keyword]",
      "description": "Visualizes insights related to a keyword."
    },
    {
      "command": "visualize-chain [branchId] [depth]",
      "description": "Maps multi-hop reasoning pathways."
    },
    {
      "command": "timeline-view [branchId]",
      "description": "Creates a chronological insight map."
    },
    {
      "command": "compare-branches [branchId1] [branchId2]",
      "description": "Compares branches side-by-side."
    },
    {
      "command": "heatmap-view [branchId]",
      "description": "Displays insight confidence and relevance intensity."
    },
    {
      "command": "contradiction-map [branchId]",
      "description": "Highlights contradictory evidence and insights."
    }
  ],
  "Multi-Hop Reasoning & Temporal Evolution": [
    {
      "command": "multi-hop-search [keyword] [depth]",
      "description": "Traces deep reasoning connections."
    },
    {
      "command": "chain-of-thought [branchId] [startNodeId] [depth]",
      "description": "Visualizes logical reasoning chains."
    },
    {
      "command": "summarize-chain [chainId]",
      "description": "Summarizes a reasoning chain."
    },
    {
      "command": "expand-chain [chainId]",
      "description": "Expands a thought pathway."
    },
    {
      "command": "trace [nodeId]",
      "description": "Traces historical lineage of insights."
    },
    {
      "command": "simulate-temporal-evolution [branchId]",
      "description": "Predicts thought evolution and network restructuring."
    }
  ],
  "Reinforcement Learning & Adaptive AI Processing": [
    {
      "command": "reinforce [branchId?]",
      "description": "Applies reinforcement learning updates to insights."
    },
    {
      "command": "simulate [branchId?]",
      "description": "Runs RL-driven scenario simulations."
    },
    {
      "command": "retrain [branchId?]",
      "description": "Retrains the reinforcement learning model."
    },
    {
      "command": "calibrate [branchId?]",
      "description": "Adjusts RL system parameters."
    },
    {
      "command": "resetRL [branchId?]",
      "description": "Resets all RL parameters to defaults."
    }
  ],
  "Collaboration & Annotation": [
    {
      "command": "collab-review [branchId]",
      "description": "Initiates a collaborative review."
    },
    {
      "command": "annotate [thoughtId] [annotation]",
      "description": "Adds annotations to insights."
    },
    {
      "command": "set-relationship [sourceId] [targetId] [type]",
      "description": "Defines logical relationships between nodes."
    }
  ],
  "Goal & Progress Tracking": [
    {
      "command": "set-goal [branchId] [goalDescription]",
      "description": "Assigns a goal to a branch."
    },
    {
      "command": "evaluate-progress [branchId]",
      "description": "Assesses progress on goals."
    }
  ],
  "Contradiction & Bias Management": [
    {
      "command": "detect-contradiction [branchId]",
      "description": "Highlights conflicting insights."
    },
    {
      "command": "anomaly-report [branchId]",
      "description": "Generates an anomaly report."
    },
    {
      "command": "bias-audit [branchId]",
      "description": "Checks for bias presence."
    },
    {
      "command": "bias-mitigation [thoughtId]",
      "description": "Suggests bias corrections."
    }
  ],
  "Export & Knowledge Integration": [
    {
      "command": "export-json [branchId]",
      "description": "Exports data in structured JSON format."
    },
    {
      "command": "export-csv [branchId]",
      "description": "Exports data for spreadsheet analysis."
    },
    {
      "command": "integration-status [externalTool]",
      "description": "Checks the integration status with an external tool."
    }
  ],
  "Enhanced Workflow & Automation": [
    {
      "command": "auto-run [sectionId] [on|off]",
      "description": "Toggles auto-run mode for a section."
    },
    {
      "command": "section-control [section1,section2,...]",
      "description": "Restricts command execution to only the specified sections."
    },
    {
      "command": "toggle-all [on|off]",
      "description": "Toggles all sections on or off."
    },
    {
      "command": "set-schedule [sectionId] [interval]",
      "description": "Schedules auto-run tasks for a section at a specified interval (e.g., 5 minutes)."
    },
    {
      "command": "commit-plan [XML payload]",
      "description": "Processes a complete XML plan, executing file and command actions with commit-style messages."
    },
    {
      "command": "export-plan [branchId]",
      "description": "Exports the configuration of the specified branch into the standardized XML plan format."
    },
    {
      "command": "run-plan [planId]",
      "description": "Executes a pre-defined plan using its unique identifier."
    },
    {
      "command": "validate-plan [XML payload]",
      "description": "Validates the structure and content of an XML plan without executing actions."
    }
  ]
}
```

## üóÉÔ∏è **Advanced JSON Schema for Visualization & AI Processing**

**Neural Architect (NA) utilizes a strict JSON schema to structure insights, visualizations, and metadata.**

```json
{
  "version": "1.3",
  "title": "Neural Architect - Branch Thinking Tool Data Schema",
  "description": "JSON Schema for representing branches, thoughts, insights, and plans within the Neural Architect Branch Thinking Tool.",
  "type": "object",
  "properties": {
    "branches": {
      "type": "array",
      "items": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string",
            "description": "Unique identifier for the branch (UUID recommended)"
          },
          "name": { "type": "string", "description": "Human-readable name of the branch" },
          "strategy": {
            "type": "string",
            "description": "Cognitive strategy applied to this branch (e.g., Brainstorming, Problem-Solving)"
          },
          "createdAt": {
            "type": "string",
            "format": "date-time",
            "description": "Timestamp of branch creation (ISO 8601 format)"
          },
          "updatedAt": {
            "type": "string",
            "format": "date-time",
            "description": "Timestamp of last branch modification (ISO 8601 format)"
          },
          "nodes": {
            "type": "array",
            "items": {
              "type": "object",
              "properties": {
                "id": {
                  "type": "string",
                  "description": "Unique identifier for the node (UUID recommended)"
                },
                "type": {
                  "type": "string",
                  "enum": ["thought", "insight"],
                  "description": "Type of node: 'thought' for general ideas, 'insight' for validated or key findings"
                },
                "label": {
                  "type": "string",
                  "description": "Primary content of the thought or insight (short, descriptive)"
                },
                "description": {
                  "type": "string",
                  "description": "Detailed explanation or elaboration of the thought/insight (optional, for extended context)"
                },
                "status": {
                  "type": "string",
                  "enum": ["active", "completed", "rejected", "pending"],
                  "description": "Current status of the thought/insight in the workflow"
                },
                "confidence": {
                  "type": "number",
                  "minimum": 0,
                  "maximum": 1,
                  "description": "Evidence-based confidence score (0-1), reflecting logical backing and data support"
                },
                "gutFeelingConfidence": {
                  "type": "number",
                  "minimum": 0,
                  "maximum": 1,
                  "description": "Subjective confidence score (0-1), representing intuitive assessment"
                },
                "tags": {
                  "type": "array",
                  "items": { "type": "string" },
                  "description": "Keywords or tags for flexible categorization and search (beyond 'thoughtType')"
                },
                "perspective": {
                  "type": "string",
                  "description": "Perspective or viewpoint from which the thought/insight originates (optional)"
                },
                "evidence": {
                  "type": "array",
                  "items": { "type": "string", "format": "uri" },
                  "description": "URIs of external resources or documents providing evidence (optional)"
                },
                "contradictionScore": {
                  "type": "number",
                  "minimum": 0,
                  "maximum": 1,
                  "description": "Score indicating the degree of conflict with other insights (0-1)"
                },
                "evolutionState": {
                  "type": "string",
                  "enum": ["emerging", "stable", "contradictory", "outdated"],
                  "description": "Current stage in the thought's lifecycle"
                },
                "emotionScores": {
                  "type": "object",
                  "properties": {
                    "happiness": {
                      "type": "number",
                      "minimum": 0,
                      "maximum": 1,
                      "description": "Happiness emotion score (0-1), as per Ekman's model"
                    },
                    "sadness": {
                      "type": "number",
                      "minimum": 0,
                      "maximum": 1,
                      "description": "Sadness emotion score (0-1), as per Ekman's model"
                    },
                    "anger": {
                      "type": "number",
                      "minimum": 0,
                      "maximum": 1,
                      "description": "Anger emotion score (0-1), as per Ekman's model"
                    },
                    "fear": {
                      "type": "number",
                      "minimum": 0,
                      "maximum": 1,
                      "description": "Fear emotion score (0-1), as per Ekman's model"
                    },
                    "disgust": {
                      "type": "number",
                      "minimum": 0,
                      "maximum": 1,
                      "description": "Disgust emotion score (0-1), as per Ekman's model"
                    },
                    "surprise": {
                      "type": "number",
                      "minimum": 0,
                      "maximum": 1,
                      "description": "Surprise emotion score (0-1), as per Ekman's model"
                    }
                  },
                  "description": "Emotion scores (0-1) for Ekman's 6 basic emotions (optional if emotion analysis is not used)",
                  "required": ["happiness", "sadness", "anger", "fear", "disgust", "surprise"]
                },
                "progress": {
                  "type": "number",
                  "minimum": 0,
                  "maximum": 1,
                  "description": "Progress indicator (0-1) for process-oriented thoughts/insights (optional)"
                },
                "thoughtType": {
                  "type": "string",
                  "enum": [
                    "Analytical",
                    "Creative",
                    "Evaluative",
                    "Strategic",
                    "Comparative",
                    "Causal",
                    "Hypothetical",
                    "Definitional",
                    "Summarizing",
                    "Inquisitive",
                    "Reflective",
                    "Procedural",
                    "Diagnostic",
                    "Predictive",
                    "Explanatory",
                    "Argumentative",
                    "Counterfactual",
                    "Metacognitive"
                  ],
                  "description": "Categorization of the cognitive process involved in the thought/insight"
                },
                "createdAt": {
                  "type": "string",
                  "format": "date-time",
                  "description": "Timestamp of node creation (ISO 8601 format)"
                },
                "updatedAt": {
                  "type": "string",
                  "format": "date-time",
                  "description": "Timestamp of last node modification (ISO 8601 format)"
                },
                "relationships": {
                  "type": "array",
                  "items": {
                    "type": "object",
                    "properties": {
                      "targetNodeId": { "type": "string", "description": "ID of the related node" },
                      "relationshipType": {
                        "type": "string",
                        "enum": [
                          "Depends On",
                          "Supports",
                          "Contradicts",
                          "Related To",
                          "Example Of"
                        ],
                        "description": "Type of relationship to the target node, defining connections in reasoning chains"
                      },
                      "description": {
                        "type": "string",
                        "description": "Optional description for the relationship, providing further context"
                      } // NEW - Relationship Description
                    },
                    "required": ["targetNodeId", "relationshipType"]
                  },
                  "description": "Relationships to other nodes, defining connections and dependencies within and across branches"
                }
              },
              "required": ["id", "type", "label", "status", "confidence"]
            }
          }
        },
        "required": ["id", "name", "createdAt", "updatedAt", "nodes"] // Added required for branches
      }
    },
    "plan": {
      "type": "object",
      "properties": {
        "planDescription": {
          "type": "string",
          "description": "Markdown formatted summary of the plan, detailing purpose, rationale, and expected outcomes"
        },
        "actions": {
          "type": "array",
          "items": {
            "type": "object",
            "properties": {
              "actionType": {
                "type": "string",
                "enum": ["file", "command"],
                "description": "Specifies action type: 'file' for file operations, 'command' for command execution"
              },
              "description": {
                "type": "string",
                "description": "Commit-style message briefly describing the action for audit trails and versioning"
              },
              "details": {
                "type": "object",
                "oneOf": [
                  {
                    "properties": {
                      "filename": {
                        "type": "string",
                        "description": "The file name and path for file-related actions"
                      },
                      "content": {
                        "type": "string",
                        "description": "Complete file content (XML CDATA encoded) for file updates/creation"
                      }
                    },
                    "required": ["filename", "content"]
                  },
                  {
                    "properties": {
                      "commandType": {
                        "type": "string",
                        "description": "The type of command to execute (e.g., 'npm install', 'python script.py')"
                      },
                      "packages": {
                        "type": "array",
                        "items": { "type": "string" },
                        "description": "List of packages or parameters for command execution"
                      }
                    },
                    "required": ["commandType"]
                  }
                ]
              }
            },
            "required": ["actionType", "description", "details"]
          }
        }
      }
    }
  },
  "required": ["branches"] // Branches array is now required at the top level
}
```

**Note:** The schema is designed to be **flexible and extensible**, allowing for future enhancements and additional properties as needed. It provides a robust framework for managing the complexity of thought structures and their relationships within the Neural Architect system.
